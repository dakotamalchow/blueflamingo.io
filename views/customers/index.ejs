<% layout("layouts/boilerplate") %>
<h2>Customers</h2>
<hr>
<form action="" method="GET" id="filter-and-sort">
    <div class="row">
        <a class="col sortCol" data-query="name">Name</a>
        <a class="col sortCol" data-query="email">Email</a>
    </div>
</form>
<hr>
<div class="mb-3">
    <% if(customers.length == 0){ %> 
        <p>Currently no customers. Click the button below to create a customer.</p>
    <% } %>
    <% for(let customer of customers){ %>
        <a href="/customers/<%= customer._id %>">
            <div class="row">
                <div class="col"><%= customer.name %></div>
                <div class="col"><%= customer.email %></div>
            </div>
        </a>
        <hr>
    <% } %>
</div>
<div class="text-right sticky-bottom">
    <a class="mt-3 btn btn-primary btn-lg" href="/customers/new">Create New Customer</a>
</div>
<% block("scripts").append('<script src="/js/filter-and-sort-index.js"></script>') %>