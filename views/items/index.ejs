<% layout("layouts/boilerplate") %>
<h2>Items</h2>
<hr>
<form action="" method="GET" id="filter-and-sort">
    <div class="row">
        <a class="col sortCol" data-query="description">Descripton</a>
        <a class="col sortCol" data-query="amount">Amount</a>
    </div>
</form>
<hr>
<div class="mb-3">
    <% if(items.length == 0){ %> 
        <p>Currently no items. Click the button below to create an item.</p>
    <% } %>
    <% for(let item of items){ %>
        <a href="/items/<%= item._id %>">
            <div class="row">
                <div class="col"><%= item.description %></div>
                <div class="col">$<%= item.amount.toFixed(2) %></div>
            </div>
        </a>
        <hr>
    <% } %>
</div>
<div class="text-right sticky-bottom">
    <a class="mt-3 btn btn-primary btn-lg" href="/items/new">Create New Item</a>
</div>
<% block("scripts").append('<script src="/js/filter-and-sort-index.js"></script>') %>